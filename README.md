# Онлайн-магазин электроники API
Проект представлен в качестве API для онлайн-магазина электроники (Вариант-3), который включает в себя ключевые элементы управления и реализует следующий функционал:

- Работа с товарами
(получение списка товаров с возможностью фильтрации по категории и диапазону цен, пагинации; получение товара по id; создание, редактирование и удаление товаров)

- Работа с заказами
(создание заказа, получение заказов по пользователю, обновление статуса заказа, просмотр всех заказов для менеджеров и администраторов)

- Работа с отзывами
(создание отзыва на товар, получение всех отзывов и отзывов по товару, редактирование и удаление отзыва)

Также данный API поддерживает разделение пользователей на роли:

- Покупатель — просмотр товаров, оформление заказов, написание отзывов
- Менеджер — управление товарами и заказами, модерация отзывов
- Админ — полный доступ ко всем сущностям и действиям

# Используемые технологии и их версии

```
bcrypt==4.0.1
email_validator==2.2.0
fastapi==0.115.12
fastapi-cli==0.0.7
passlib==1.7.4
pydantic==2.11.7
pydantic-settings==2.9.1
SQLAlchemy==2.0.41
jose==1.0.0
```
# Запуск проекта

1. Создайте и запустите виртуальное окружение с помощью команды
```
python -m venv venv 
.\venv\Scripts\activate
```
2. Установите все зависимости с помощью команды 
```
pip install -r requirements.txt
```
3. Создайте файл .env и вставте туда следующие строки
```
DB_NAME=название вашей базы данных
SECRET_KEY=ваш ключ
```
4. Сохраните все и в терминале введите команду 
```
py seed.py
```
5. Чтобы запустить сервер введите команду 
```
fastapi dev main.py
```
# Логины и пароли для входа

|Логин|Пароль|Роль|
|:-----:|:-----:|:-------:|
|Админ|admin123|admin|
|Покупатель|user123|user|
|Менеджер|manag123|manager|

# [Документация](http://127.0.0.1:8000/docs) http://127.0.0.1:8000/docs

|Запрос|Маршрут|Пояснение|Условия|
|:-----:|:-----:|:-------|:-----:|
|POST|/api/user/register|Регистрация пользователя|Для всех|
|GET|/api/user/me|Возвращает информацию о пользователе|Для зарегистрированных пользователей|
|GET|/api/user/|Возвращает всех пользователей. Также присутствует пагинация, поиск по username, почте и роли|Только для администратора|
|GET|/api/user/{user_id}|Поиск пользователя по id|Только для администратора|
|PUT|/api/user/{user_id}|Редактирование пользователя по id|Только для администратора|
|DELETE|/api/user/{user_id}|Удаление пользователя по id|Только для администратора|
|GET|/api/product/products|Вывод всех продуктов. Есть пагинация и фильтрация по имени, категории, минимальной и максимальной цене|Для всех|
|GET|/api/product/{product_id}|Выводит продукт по id|Для всех|
|POST|/api/product/create|Создает продукт|Для менеджера и админа|
|PUT|/api/product/update/{product_id}|Обновляет продукт по id|Для менеджера и админа|
|DELETE|/api/product/delete/{product_id}|Удаляет продукт по id|Для менеджера и админа|
|GET|/api/orders/|Выводит все заказы. Есть пагинация|Для менеджера и админа|
|GET|/api/orders/user_orders|Выводит все заказы пользователя. Есть пагинация|Для зарегистрированных пользователей|
|GET|/api/orders/{order_id}|Поиск заказа по id|Для зарегистрированных пользователей|
|POST|/api/orders/create|Создание заказа|Для зарегистрированных пользователей|
|PUT|/api/orders/update-status/{order_id}|Обновление статуса заказа|Для менеджера и админа|
|PUT|/api/orders/update-items/{order_id}|Обновление содержимого и количество товара в заказе|Для менеджера и админа|
|DELETE|/api/orders/delete/{order_id}|Удаление заказа по id|Для зарегистрированных пользователей|
|POST|/api/reviews/|Создание отзыва продукту|Для зарегистрированных пользователей|
|GET|/api/reviews/|Вывод всех отзывов продукта|Для всех|
|PUT|/api/reviews/{review_id}|Редактирование отзыва по его id|Для зарегистрированных пользователей|
|DELETE|/api/reviews/{review_id}|Удаление отзыва по id|Для зарегистрированных пользователей|
|GET|/api/category/|Вывод всех категорий|Для всех|
|POST|/api/category/|Создание категории|Только для администратора|
|PUT|/api/category/{category_id}|Редактирование категории по id|Только для администратора|
|DELETE|/api/category/{category_id}|Удаление категории по id|Только для администратора|
|POST|/login|Логин|Для всех|

# Контакты:
e-mail: oleg-sokolov.sokol@yandex.ru
